# FloImg Fleet - Claude Code Quick Reference

FloImg Fleet is a bot orchestration system for simulating user activity on FloImg Studio's gallery features.

## What This Project Does

LLM-driven bots that:
- Create and share images in the gallery
- Upvote and interact with content
- Leave comments
- Make the platform feel alive to new users

This solves the cold-start problem for FloImg Studio's social features.

## Stack

- **Elixir/Phoenix** - Web framework and bot orchestration
- **GenServer** - Individual bot state management
- **Supervisor** - Bot lifecycle management
- **API-first** - Direct FloImg API calls, Playwright fallback for browser simulation

## Project Structure

```
lib/
├── floimg_fleet/           # Core bot orchestration
│   ├── application.ex      # Application entry point
│   ├── bot.ex              # GenServer for individual bots
│   ├── bot_supervisor.ex   # Supervises bot processes
│   └── api/                # FloImg API client
│       └── client.ex
├── floimg_fleet_web/       # Phoenix web interface (dashboard)
│   ├── controllers/
│   ├── components/
│   └── router.ex
config/                     # Environment configuration
test/                       # Tests
vault/                      # PM artifacts and documentation
```

## Commands

```bash
# Start development server
mix phx.server

# Run in interactive mode
iex -S mix phx.server

# Run tests
mix test

# Format code
mix format

# Check for issues
mix compile --warnings-as-errors
```

## Key Patterns

### Bot as GenServer

Each bot is a GenServer process with its own state:
- Personality traits (generated by LLM)
- Activity schedule
- Current session state
- Rate limiting

### Supervision Tree

```
FloimgFleet.Application
└── FloimgFleet.BotSupervisor
    ├── Bot #1 (GenServer)
    ├── Bot #2 (GenServer)
    └── ...
```

### API Client

Direct HTTP calls to FloImg API endpoints. Bots authenticate with special "bot" accounts that have:
- Premium plan access (no billing)
- Analytics exclusion flag
- Internal attribution markers

## Environment Variables

```bash
# Required
FLOIMG_API_URL=https://api.floimg.com
FLOIMG_BOT_SECRET=xxx  # Special auth for bot accounts

# Optional
LLM_PROVIDER=openai|anthropic|ollama
LLM_API_KEY=xxx
```

## Git Workflow

- **Branch naming**: `feat/T-YYYY-NNN-description`
- **Always use PRs** for changes
- **Linear history** via rebase

## Critical Rules

1. **Cost efficiency** - Minimize LLM tokens and API calls
2. **Human-like behavior** - Bots should not be detectable as bots
3. **No Claude co-authorship** - Never add `Co-Authored-By: Claude` in commits
4. **Private repo** - This code should never be public

## Reference

- Idea doc: `floimg-hq/vault/ideas/bot-army-simulated-activity.md`
- Charlie Holtz "Shinstagram" pattern: ElixirConf 2023
